!function(l){l.widget("evergreen.q4Pager",{options:{content:null,count:0,perPage:1,pageRange:null,pages:[],startPage:1,showFirstLast:!0,showPrevNext:!0,showPages:!0,showDots:!1,trigger:"button",activeClass:"js--active",disabledClass:"js--disabled",template:'<li class="evergreen-pager-list-item"><button class="evergreen-pager-button">{{{page}}}</button></li>',clonePager:{toggle:!1,selector:""},labels:{first:'<span class="q4-icon_arrow_carrot-2left" aria-hidden="true"></span>',prev:'<span class="q4-icon_arrow_carrot-left" aria-hidden="true"></span>',next:'<span class="q4-icon_arrow_carrot-right" aria-hidden="true"></span>',last:'<span class="q4-icon_arrow_carrot-2right" aria-hidden="true"></span>'},pageMessageContainer:null,pageMessageTemplate:"",beforeChange:function(e,a){},afterChange:function(e,a){}},$items:null,pages:[],currentPage:null,changePage:function(e,a){this.options;var t={page:e,prevPage:this.currentPage};this._trigger("beforeChange",a,t),this._setPage(e),this._trigger("afterChange",a,t)},_create:function(){this._bindEvents()},_init:function(){this._drawPager()},_bindEvents:function(){var a=this.options,e={};e["click "+this.options.trigger]=function(e){l(e.target).is("a, button")&&e.preventDefault(),l(e.target).hasClass(this.options.disabledClass)||l(e.target).hasClass(this.options.activeClass)||this.changePage(l(e.target).data("page"),e),l(a.content[0]).parent().attr("tabindex","0").focus()},this._on(e)},_drawPager:function(){var t=this.options,s=this.element,e=null;if("string"==typeof t.content?this.$items=l(t.content):t.content instanceof l&&(this.$items=t.content),this.pages=[],l.isArray(t.pages)&&t.pages.length)this.pages=t.pages,a=this.pages.length,t.startPage&&-1<l.inArray(t.startPage,this.pages)&&(e=t.startPage);else if(this.$items||t.count){for(var a=Math.ceil((this.$items?this.$items.length:t.count)/(t.perPage||1)),r=1;r<=a;r++)this.pages.push(r);t.startPage&&(e=Math.max(1,Math.min(a+1,t.startPage)))}s.hasClass("pager")||s.addClass("pager"),s.empty().append('<div class="evergreen-pager-status sr-only" role="status" aria-live="polite"></div><ul class="evergreen-pager-list" />'),t.showFirstLast&&l(Mustache.render(t.template,{page:t.labels.first})).appendTo(s.find("ul")).find(t.trigger).addClass("evergreen-pager-button--first").data("page",1).attr({"aria-label":"First page","aria-disabled":"true"}),t.showPrevNext&&l(Mustache.render(t.template,{page:t.labels.prev})).appendTo(s.find("ul")).find(t.trigger).addClass("evergreen-pager-button--prev "+t.disabledClass).attr({"aria-label":"Previous page","aria-disabled":"true"}),t.showPages&&l.each(this.pages,function(e,a){l(Mustache.render(t.template,{page:a})).appendTo(s.find("ul")).find(t.trigger).addClass("evergreen-pager-page").attr("aria-label","Page "+a).data("page",a)}),a<=1?s.addClass("js--hidden").attr("aria-hidden","true"):s.hasClass("js--hidden")&&s.removeClass("js--hidden").attr("aria-hidden","false"),t.showDots&&(s.find(".evergreen-pager-page").first().closest("li").after('<li class="evergreen-pager-list-item evergreen-pager-hide js--hidden"><span class="evergreen-pager-dots evergreen-pager-dots--first">...</span></li>'),s.find(".evergreen-pager-page").last().closest("li").before('<li class="evergreen-pager-list-item evergreen-pager-hide js--hidden"><span class="evergreen-pager-dots evergreen-pager-dots--last">...</span></li>')),t.showPrevNext&&l(Mustache.render(t.template,{page:t.labels.next})).appendTo(s.find("ul")).find(t.trigger).addClass("evergreen-pager-button--next").attr("aria-label","Next page"),t.showFirstLast&&l(Mustache.render(t.template,{page:t.labels.last})).appendTo(s.find("ul")).find(t.trigger).addClass("evergreen-pager-button--last").data("page",a).attr("aria-label","Last page"),1==a&&l(".evergreen-pager-page",s).addClass(t.disabledClass).attr("aria-disabled","true"),null!==e&&this.changePage(e)},_setPage:function(e){var a,t,s=this.element,r=this.options,n=l.inArray(e,this.pages),i=this.pages.length-1;if(-1!=n){if(l(".evergreen-pager-button--first, .evergreen-pager-button--prev",s).toggleClass(r.disabledClass,0==n).attr("tabindex",function(e,a){return 0==n?"-1":null}).attr("aria-disabled",function(e,a){return 0==n?"true":null}),l(".evergreen-pager-button--last, .evergreen-pager-button--next",s).toggleClass(r.disabledClass,n==i).attr("tabindex",function(e,a){return n==i?"-1":null}).attr("aria-disabled",function(e,a){return n==i?"true":null}),l(".evergreen-pager-button--prev",s).data("page",0<n?this.pages[n-1]:""),l(".evergreen-pager-button--next",s).data("page",n<i?this.pages[n+1]:""),l(".evergreen-pager-page",s).removeClass(r.activeClass).removeAttr("aria-current").filter(function(){return l(this).attr("aria-label","Page "+l(this).data("page")),l(this).data("page")==e}).addClass(r.activeClass).attr({"aria-current":"true","aria-label":"Page "+e+", Current Page"}),r.pageRange&&this.pages.length>r.pageRange&&(r.pageRange%2==0&&r.pageRange++,g=Math.floor(r.pageRange/2),a=e-g,t=e+g,e<=1+g&&(a=1,t=r.pageRange),e>=this.pages.length-g&&(a=this.pages.length-r.pageRange+1,t=this.pages.length),s.find(".evergreen-pager-hide.js--hidden").removeClass("evergreen-pager-hide js--hidden"),s.find(".evergreen-pager-page").slice(0,a-1).addClass("evergreen-pager-hide js--hidden"),s.find(".evergreen-pager-page").slice(t,this.pages.length).addClass("evergreen-pager-hide js--hidden"),r.showDots)&&(e<=2+g&&s.find(".evergreen-pager-dots--first").closest("li").addClass("evergreen-pager-hide js--hidden"),e>=this.pages.length-g-1&&s.find(".evergreen-pager-dots--last").closest("li").addClass("evergreen-pager-hide js--hidden"),s.find(".evergreen-pager-page").first().closest("li").removeClass("evergreen-pager-hide js--hidden"),s.find(".evergreen-pager-page").last().closest("li").removeClass("evergreen-pager-hide js--hidden")),this.$items&&(a=n*r.perPage,this.$items.addClass("js--hidden").attr("aria-hidden","true").slice(a,a+r.perPage).removeClass("js--hidden").attr("aria-hidden","false")),r.pageMessageContainer&&r.pageMessageTemplate&&(t=this.$items?this.$items.length:r.count,l(r.pageMessageContainer).html(Mustache.render(r.pageMessageTemplate,{page:e,pageCount:this.pages.length,firstItem:n*r.perPage+1,lastItem:Math.min(t,(n+1)*r.perPage),itemCount:t})),t<=r.perPage?l(r.pageMessageContainer).addClass("js--hidden").attr("aria-hidden","true"):l(r.pageMessageContainer).removeClass("js--hidden").attr("aria-hidden","false")),s.find(".evergreen-pager-status").text("Showing page "+e+" of "+this.pages.length),r.clonePager.toggle){var g=r.clonePager.selector||null;if(!g)throw new Error("Please enter an ID for the second pager.");l(g).html(s.clone(!0,!0))}this.currentPage=e}}})}($tudio);